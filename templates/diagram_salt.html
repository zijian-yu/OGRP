{% extends 'index.html' %}


{% block body_index %}
    <h3 class="h3_1" style="background-image:url(../static/image/ico.png)"><b>Salt-tolerance biosynthesis statistics</b><i></i></h3>

    <script type="text/javascript" src="../static/js/echarts.min.js"></script>


    <div id="container" style="height: 500px">
    </div>




    <script type="text/javascript">
        var dom = document.getElementById("container");
        var myChart = echarts.init(dom);
        var app = {};
        var option;

        var xAxisData = ["AL","CDPK","EIL","EIF","F-box","TIFY","B3","AHL","AP2EREBP","AAAP"];
        var data1 = [];
        var data2 = [];
        var data3 = [];
        var data4 = [];
		var data5 = [];
		var data6 = [];



    for (var i = 0; i < 12; i++) {
<!--    "AL","CDPK","EIL","EIF","F-box","TIFY","B3","AHL","AP2EREBP","AAAP"-->
            // xAxisData.push('Class' + i);
            data1.push(8, 107, 9, 239, 9, 30, 154, 39, 194, 37);
            data2.push(6, 54,  4, 152, 7, 13, 72,  10, 95, 28);
            data3.push(24,82,  9, 225, 7, 44, 136, 34, 173, 48);
            data4.push(16,112, 9, 260, 12,42, 144, 36, 199, 61);
			data5.push(2, 19,  0, 91,  3, 18, 80,  10, 59, 29);
			data6.push(10,22,  1, 107, 0, 36, 63,  13, 62, 41);



    }

    var emphasisStyle = {
            itemStyle: {
                    shadowBlur: 10,
                    shadowColor: 'rgba(0,0,0,0.3)'
            }
    };

    option = {
            legend: {
                    data: ['Fpe', 'Jsa', 'Oeu', 'Sob', 'Chu', 'Vvi'],
                    left: '10%'
            },
            brush: {
                    toolbox: ['rect', 'polygon', 'lineX', 'lineY', 'keep', 'clear'],
                    xAxisIndex: 0
            },

            toolbox: {
                    feature: {
                            magicType: {
                                    type: ['stack', 'tiled']
                            },
                            dataView: {}
                    }
            },
            tooltip: {},

            color: ['#E673A0','#E64D77', '#35BAE6', '#2B7E99', '#992343', '#E6DD63', "#01BFBF", "#1C8FFF", "#FD8E63", "#CC9900", "#BCB66A"],
            xAxis: {
                    data: xAxisData,
                    name: 'gene family',
                    nameRotate: 30,
                    splitLine: {show: false},
                    splitArea: {show: false},
                    axisLabel: {fontStyle: 'italic'}
            },
            yAxis: {},
            grid: {
                    bottom: 100
            },
            series: [
                    {
                            name: 'Fpe',
                            type: 'bar',

                            emphasis: emphasisStyle,
                            data: data1
                    },
                    {
                            name: 'Jsa',
                            type: 'bar',

                            emphasis: emphasisStyle,
                            data: data2
                    },
                    {
                            name: 'Oeu',
                            type: 'bar',

                            emphasis: emphasisStyle,
                            data: data3
                    },
                    {
                            name: 'Sob',
                            type: 'bar',

                            emphasis: emphasisStyle,
                            data: data4
                    },
					{
                            name: 'Chu',
                            type: 'bar',

                            emphasis: emphasisStyle,
                            data: data5
                    },
					{
                            name: 'Vvi',
                            type: 'bar',

                            emphasis: emphasisStyle,
                            data: data6
                    }
            ]
    };
        option && myChart.setOption(option);
        myChart.on('click', function (params) {
                var name = params.name;
<!--                "AL","CDPK","EIL","EIF","F-box","TIFY","B3","AHL","AP2EREBP","AAAP"-->
                if (name === "AL") {window.location.href="/browse/Functional_genes/AL/";}
                if (name === "CDPK") {window.location.href="/browse/Functional_genes/CDPK/";}
                if (name === "EIL") {window.location.href="/browse/Functional_genes/EIL/";}
                if (name === "EIF") {window.location.href="/browse/Functional_genes/EIF/";}
                if (name === "F-box") {window.location.href="/browse/Functional_genes/F-box/";}
                if (name === "TIFY") {window.location.href="/browse/Functional_genes/TIFY/";}
                if (name === "B3") {window.location.href="/browse/Functional_genes/B3/";}
                if (name === "AHL") {window.location.href="/browse/Functional_genes/AHL/";}
                if (name === "AP2EREBP") {window.location.href="/browse/Functional_genes/AP2EREBP/";}
                if (name === "AAAP") {window.location.href="/browse/Functional_genes/AAAP/";}

            });

<!--    option && myChart.setOption(option);-->

<!--    myChart.on('brushSelected', renderBrushed);-->

<!--    function renderBrushed(params) {-->
<!--            var brushed = [];-->
<!--            var brushComponent = params.batch[0];-->

<!--            for (var sIdx = 0; sIdx < brushComponent.selected.length; sIdx++) {-->
<!--                    var rawIndices = brushComponent.selected[sIdx].dataIndex;-->
<!--                    brushed.push('[Series ' + sIdx + '] ' + rawIndices.join(', '));-->
<!--            }-->

<!--            myChart.setOption({-->
<!--                    title: {-->
<!--                            backgroundColor: '#333',-->
<!--                            text: 'SELECTED DATA INDICES: \n' + brushed.join('\n'),-->
<!--                            bottom: 0,-->
<!--                            right:'10%',-->
<!--                            width: 100,-->
<!--                            textStyle: {-->
<!--                                    fontSize: 12,-->
<!--                                    color: '#fff'-->
<!--                            }-->
<!--                    }-->
<!--            });-->
<!--    }-->



    </script>

{% endblock %}